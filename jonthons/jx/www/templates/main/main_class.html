<ion-view view-title="分类商品">
  <ion-nav-buttons side="right">
    <i class="icon ion-ios-cart" style="font-size: 24px; margin-top: 5px; margin-right: 4%" ng-click="goCart()"></i>
  </ion-nav-buttons>
  <ion-content overflow-scroll="true" style="overflow: hidden">
    <!-- 商品列表 -->
    <div class="row" style="padding: 0px;height: 100%;">
      <!-- 左侧 -->
      <div class="col-20" style="width:20%;background: #fbfbfb;height:100%; overflow: scroll">
        <div overflow-scroll="true" ng-click="toChangeClass(class)" ng-repeat="class in classes">
          <div ng-if="isClick_id == class._id" style="color: #ff0000; background:#fff; border-right: none; text-align: center; border-bottom:1px solid #eee; height:45px;line-height: 45px;padding: 3px 0;" >
            <i class="icon-{{class.tag_code}}" style="font-size:6vw;"></i>
            <p ng-bind="class.tag_name" style="font-size: 3vw;"></p>
          </div>
          <div ng-if="isClick_id != class._id" style=" text-align: center; border-bottom:1px solid #eee; height:45px;padding: 3px 0; line-height: 45px; border-right: 1px solid #eee">
            <i class="icon-{{class.tag_code}}" style="font-size:6vw;"></i>
            <p ng-bind="class.tag_name" style="font-size: 3vw;"></p>
          </div>

        </div>
      </div>

      <!-- 右侧 -->
      <div class="col-80" style="height: 100%;width:80%">

        <!-- 右侧上边 -->
        <div overflow-scroll="true" style="width: 100%;height: 38.5vh;overflow-y: scroll">
          <div ng-click="toChangeGroup(good)" ng-repeat="good in goods" style="float: left;margin: 5px;padding: 5px;">
            <i style="padding:3px 8px; border-radius: 4px;" ng-bind="good.box_name" ng-class="{'classButton-red':good.box_name == box_name,'classButton-gray':good.box_name != box_name}"></i>
          </div>
          <div style="width: 100%;height: 300px;"></div>
        </div>

        <!-- 右侧下边 -->
        <div style="width: 100%;height: 54vh;position: absolute;bottom: 0;box-shadow: 3px 2px 4px rgba(0,0,0,0.8);">
          <div style="width:100%;background: #fff;position: absolute;bottom: 0px; height:54vh">
            <dl style="width:80vw; padding:0 2vw;border-bottom: 1px solid #eee; height:20vw; margin-bottom: 0">
              <dt style="float:left;width:22%;    margin-top: 1.5vw;"><img ng-src="{{good.goods_thumb}}"  class="img" style="width:100%;height: 100%;"></dt>
              <dd ng-bind="good.box_name" style="margin-left: 25%; width: 70vw; font-size: 4vw; padding-top: 1.5vw; margin-top: 1.5vw;"></dd>
              <dd style="margin-left: 25%; width: 70vw; line-height: 5vw; color:#999; font-size: 3vw">规格:{{good.specs}}<i style="color: #d85d70;margin-left:4.5vw; font-size: 3vw">已销售{{good.sales}}{{good.unit}}</i></dd>
              <dd style="margin-left: 25%; width: 70vw;color: #d85d70; font-size: 3vw">{{good.shop_price | currency:'￥'}}</dd>
            </dl>
            <dl style="width:80vw; padding:2vw 2vw 6vw 2vw;margin-bottom: 0; clear: both;    display: inline-block;">
              <dt style="width:100%;font-size: 4vw;margin-top: 1vw;">规格</dt>
              <dd style="margin-top: 10px;    margin-bottom: 15px;margin-left: 2%;float:left" ng-repeat="group in goodsGroup" >
                <i id="{{attr.attr_id}}" style="    padding: 8px 12px;" class="rounded"
                   ng-click="chooseSpecs(group)"
                   ng-class="{'button-red':group.goods_brief == specs,'button-gray':group.goods_brief != specs}"
                        >{{group.goods_brief}}</i>
              </dd>
              <!--<dd>-->
              <!--<button  ng-repeat="group in goodsGroup" class="button button-small button-assertive" style="margin:5px;padding:0.5vw; margin-top:2vw;" ng-bind="group.goods_brief" ></button>-->

              <!--</dd>-->
            </dl>
            <dl style="width:80vw; padding:0 2vw; border-top:1px solid #eee; border-bottom: 1px solid #eee;height:12vw;line-height: 12vw;margin-bottom: 0;    clear: both;">
              <dt style="width:20vw;font-size: 4vw;line-height: 12vw; float: left; color:#303030;">购买数量</dt>
              <dd style="height: 15vw;text-align: right">
                <div>
                  <div style="float:right;padding: 1vw 3vw; background: #f0f0f0; margin-top: 1.5vw;  border-right: 1px solid #eee; color:#aaa"ng-click="addNum()">+</div>
                  <div style="float:right;padding: 1vw 3vw;background: #f9f9f9; margin: 1.5vw 1px 0 1px;"ng-bind="good.num">1</div>
                  <div style="float:right;padding: 1vw 3vw; background: #f0f0f0; margin-top: 1.5vw; border-left: 1px solid #eee; color:#aaa"ng-click="subNum()">-</div>
                </div>
              </dd>
            </dl>
            <div ng-if="1 != 1"><button class="button button-assertive" style="line-height:35px; margin-left: 4vw; min-height: 35px;margin-top: 4vw;float:right" ng-click="toOrder()">立即购买</button></div>
            <!--<div style="width: 80vw; height: 50px;padding: 0 2%;    position: fixed;bottom: 4vw; z-index: 9999">-->
            <!--<button style="float: left;line-height:30px; min-height: 30px;margin-top: 5vw;float:right" class="button button-assertive" ng-click="addCart()">加入购物车</button>-->
            <!--</div>-->
            <div ng-click="addCart()" style="position:absolute; bottom:0; width:80%; text-align: center; float: right; right: 20%; background-color:#f0525d; color:#fff; line-height: 35px;  ">加入购物车</div>
          </div>
        </div>

      </div>


    </div>


  </ion-content>
</ion-view>
<style>
  .button-red{
    font-size:.8em;border: solid 1px #fc8888;padding: 8px 15px;color: #fc8888;
  }
  .button-gray{
    font-size:.8em;border: solid 1px #bac5ce;padding: 8px 15px;color: #bac5ce;
  }
  .classButton-red{
    color: #fc8888;border: solid 1px #fc8888;padding: 8px;
  }
  .classButton-gray{
    color: #000000;padding: 8px;
  }

  .u-flyer {display: block;width: 50px;height: 50px;border-radius: 50px;position: fixed;z-index: 100;}
</style>
